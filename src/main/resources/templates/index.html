<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="base::Layout(~{::section})">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<section>
    <div class="container p-3">
        <!-- Form to filter suppliers -->
        <div class="row mt-4">
            <div class="col-md-6">
                <h2>Filter Suppliers</h2>
                <form action="/filterSuppliers" method="post">
                    <div class="mb-3">
                        <label for="filterLocation" class="form-label">Location</label>
                        <select name="location" class="form-control" id="filterLocation" required>
                            <option value="" disabled selected>Select a city</option>
                            <option th:each="city : ${countryNames}" th:value="${city}" th:text="${city}"></option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="filterNatureOfBusiness" class="form-label">Nature of Business</label>
                        <select name="nature_of_business" class="form-control" id="filterNatureOfBusiness" required>
                            <option value="" disabled selected>Select nature of business</option>
                            <option th:each="option : ${natureOfBusinessOptions}" th:value="${option}" th:text="${option}"></option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="filterManufacturingProcesses" class="form-label">Manufacturing Processes</label>
                        <select name="manufacturing_processes" class="form-control" id="filterManufacturingProcesses" required>
                            <option value="" disabled selected>Select manufacturing process</option>
                            <option th:each="process : ${manufacturingProcessesOptions}" th:value="${process}" th:text="${process}"></option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-primary">Filter</button>
                </form>
            </div>
        </div>

        <!-- Display filtered results -->
        <div class="row mt-4">
            <div class="col-md-12">
                <h2>Filtered Suppliers</h2>
                <table class="table">
                    <thead>
                    <tr>
                        <th>Supplier ID</th>
                        <th>Company Name</th>
                        <th>Website</th>
                        <th>Location</th>
                        <th>Nature of Business</th>
                        <th>Manufacturing Processes</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="supplier : ${filteredSuppliers}">
                        <td th:text="${supplier.supplier_id}"></td>
                        <td th:text="${supplier.company_name}"></td>
                        <td th:text="${supplier.website}"></td>
                        <td th:text="${supplier.location}"></td>
                        <td th:text="${supplier.manufacturing_processes}"></td>
                        <td th:text="${supplier.nature_of_business}"></td>

                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</section>
</body>
</html>
